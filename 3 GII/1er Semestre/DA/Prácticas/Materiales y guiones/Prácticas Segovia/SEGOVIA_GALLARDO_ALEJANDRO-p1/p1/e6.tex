\begin{lstlisting}
void DEF_LIB_EXPORTED placeDefenses(bool** freeCells, int nCellsWidth,
                                    int nCellsHeight, float mapWidth,
                                    float mapHeight,
                                    std::list<Object*> obstacles,
                                    std::list<Defense*> defenses)
{
    //Continuacion directa del codigo del ejercicio 3.

    maxAttemps = 1000 * std::max(nCellsWidth,nCellsHeight);

    while(currentDefense != defenses.end() && maxAttemps > 0)
    {
        seleccion(cellValues, nCellsWidth, nCellsHeight, &fila, &columna);

        x = fila*cellWidth + cellWidth/2;
        y = columna*cellHeight + cellHeight/2;

        if(factible(x, y, (*currentDefense)->radio, mapWidth, mapHeight,
        cellWidth,cellHeight, obstacles, defenses))
        {
            (*currentDefense)->position.x = x;
            (*currentDefense)->position.y = y;
            (*currentDefense)->position.z = 0;
            currentDefense++;
        }
        maxAttemps--;
    }

  }
\end{lstlisting}
